extends layout.pug

block morescripts
  script(src='https://unpkg.com/@microsoft/teams-js@1.3.7/dist/MicrosoftTeams.min.js', integrity='sha384-glExfvkpce98dO2oN+diZ/Luv/5qrZJiOvWCeR8ng/ZxlhpvBgHKeVFRURrh+NEC', crossorigin='anonymous')
  script(type="text/javascript", src="/controllers/configController.client.js")


block content
  .container
    br
    p.centered Choose a validation for this tab.
    p.centered For validations with sections: Check sections to show by default. Others will be collapsed.
    form
      if validations
        each validation in validations
          .container.val
            input(type='radio', name='validation', id=validation._id, value= validation.name, onclick='microsoftTeams.settings.setValidityState(true);')
            label(for=validation._id)       #{validation.name}
            if validation.groups.length > 0
                ul
                    each group in validation.groups
                        - var safeGroup = group.replace(/ /g, "_").replace(/,/g, "_").replace(/-/g, "_").replace(/\(|\)/g, "_");
                            input(type="checkbox", name="group", value=safeGroup, id=safeGroup, checked)
                            label.safe-label(for=safeGroup, style="font-size: 12px;") #{group}
                            br
            br